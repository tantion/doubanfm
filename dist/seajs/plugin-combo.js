!function(a){function b(a){var b={__KEYS:[]};i(a,function(a){a=a.replace("://","__").split("/");var c=b;i(a,function(a){c[a]||(c[a]={__KEYS:[]},c.__KEYS.push(a)),c=c[a]})});var d=[];return i(b.__KEYS,function(a){var e=a;a=b[a];for(var f=a.__KEYS;1===f.length;)e+="/"+f[0],a=a[f[0]],f=a.__KEYS;f.length&&d.push([e.replace("__","://"),c(a)])}),d}function c(a){var b=[];return i(a.__KEYS,function(d){var e=c(a[d]);e.length?i(e,function(a){b.push(d+"/"+a)}):b.push(d)}),b}function d(a){return i(a,function(a){var b=a[0]+"/",c=[],d={};i(a[1],function(a){var b;b=a.lastIndexOf("."),(b=b>=0?a.substring(b):"")&&(d[b]||(d[b]=[])).push(a)});for(var f in d)d.hasOwnProperty(f)&&c.push(d[f]);i(c,function(a){e(b,a)})}),f}function e(a,b){var c=h.comboSyntax||["??",","],d=h.comboMaxLength||2e3,g=a+c[0]+b.join(c[1]),c=g.length>d;if(1<b.length&&c)e(a,b.splice(0,Math.ceil(b.length/2))),e(a,b);else{if(c)throw Error("The combo url is too long: "+g);i(b,function(b){f[a+b]=g})}}var f={},g=a.cache,h=a.config.data;a.on("load",function(a){var c=[],e=h.comboExcludes;i(a,function(a){var b;if((b=1>g[a].status)&&(b=!e||!e.test(a))){var d=h.comboSyntax||["??",","];b=d[0],d=d[1],b=!(b&&0<a.indexOf(b)||d&&0<a.indexOf(d))}b&&c.push(a)}),1<c.length&&d(b(c))}),a.on("fetch",function(a){var b=a.uri;a.requestUri=f[b]||b});var i=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c],c,a)};h.test&&(a=a.test||(a.test={}),a.uris2paths=b,a.paths2hash=d)}(seajs);